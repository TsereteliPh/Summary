{"version":3,"file":"form.min.js","sources":["form.js"],"sourcesContent":["const form = document.querySelector('.form');\r\nconst inputContainers = form.querySelectorAll('div');\r\nconst inputs = form.querySelectorAll('.input');\r\nconst submitButton = form.querySelector('.send-panel__button--submit');\r\nconst resetButton = form.querySelector('.send-panel__button--reset');\r\nconst modalSuccess = document.querySelector('.modal--success');\r\nconst modalFailure = document.querySelector('.modal--failure');\r\nconst modalCloseButton = document.querySelectorAll('.modal__button');\r\n\r\nlet requireInputArr = [];\r\n\r\n//Функция проверки атрибута required у полей ввода\r\n\r\nconst requiredChecker = () => {\r\n    inputs.forEach((item) => {\r\n        if (item.hasAttribute('required')) {\r\n            item.parentElement.classList.add('required-input');\r\n            requireInputArr.push(item);\r\n        }\r\n    })\r\n}\r\n\r\n//Функция удаляющая все иконки у поля ввода\r\n\r\nconst iconCleaner = (n) => {\r\n    n.classList.remove('required-input', 'warning-input', 'correct-input');\r\n}\r\n\r\n//Функция проверки формата и содержания полей ввода \r\n\r\nconst validityChecker = () => {\r\n    inputs.forEach((input) => {\r\n        input.oninput = () => {\r\n            if (input.validity.typeMismatch) {\r\n                iconCleaner(input.parentElement);\r\n                input.parentElement.classList.add('warning-input');\r\n            } else if (input.value !== '' && !input.validity.typeMismatch){\r\n                iconCleaner(input.parentElement);\r\n                input.parentElement.classList.add('correct-input');\r\n            } else {\r\n                iconCleaner(input.parentElement);\r\n                requiredChecker();\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\n//Функция проверки каждого инпута на соответсвие требованиям (для отправки формы)\r\n\r\nconst inputSubmitChecker = () => {\r\n    for (input of inputs) {\r\n        if (input.validity.typeMismatch) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    for (input of requireInputArr) {\r\n        if (input.value === '') {\r\n            console.log('hui');\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n//Функция отмены введенных значений\r\n\r\nconst resetForm = (form) => {\r\n    form.reset();\r\n    \r\n    inputs.forEach((input) => {\r\n        iconCleaner(input.parentElement);\r\n    })\r\n    requiredChecker();\r\n}\r\n\r\n//Вызов всех функций\r\n\r\nrequiredChecker();\r\nvalidityChecker();\r\nconsole.log(requireInputArr);\r\n\r\n//Кнопка отмены ввода\r\n\r\nresetButton.addEventListener('click', () => {\r\n    resetForm(form);\r\n})\r\n\r\n//Кнопка отправки формы\r\n\r\nsubmitButton.addEventListener('click', (evt) => {\r\n    evt.preventDefault();\r\n\r\n    if (inputSubmitChecker()) {\r\n        resetForm(form);\r\n\r\n        modalSuccess.classList.add('modal--active');\r\n        document.body.style.overflow = 'hidden';\r\n    } else {\r\n        modalFailure.classList.add('modal--active');\r\n        document.body.style.overflow = 'hidden';\r\n    }\r\n})\r\n\r\n//Кнопка закрытия модального окна\r\n\r\nmodalCloseButton.forEach((button) => {\r\n    button.addEventListener('click', () => {\r\n    modalSuccess.classList.remove('modal--active');\r\n    modalFailure.classList.remove('modal--active');\r\n    document.body.style.overflow = 'visible';\r\n    })\r\n})"],"names":["form","document","querySelector","inputContainers","querySelectorAll","inputs","submitButton","resetButton","modalSuccess","modalFailure","modalCloseButton","let","requireInputArr","requiredChecker","forEach","item","hasAttribute","parentElement","classList","add","push","iconCleaner","n","remove","validityChecker","input","oninput","validity","typeMismatch","value","inputSubmitChecker","console","log","resetForm","reset","addEventListener","evt","preventDefault","body","style","overflow","button"],"mappings":"AAAA,MAAMA,KAAOC,SAASC,cAAc,OAAO,EACrCC,gBAAkBH,KAAKI,iBAAiB,KAAK,EAC7CC,OAASL,KAAKI,iBAAiB,QAAQ,EACvCE,aAAeN,KAAKE,cAAc,6BAA6B,EAC/DK,YAAcP,KAAKE,cAAc,4BAA4B,EAC7DM,aAAeP,SAASC,cAAc,iBAAiB,EACvDO,aAAeR,SAASC,cAAc,iBAAiB,EACvDQ,iBAAmBT,SAASG,iBAAiB,gBAAgB,EAEnEO,IAAIC,gBAAkB,GAItB,MAAMC,gBAAkB,KACpBR,OAAOS,QAAQ,IACPC,EAAKC,aAAa,UAAU,IAC5BD,EAAKE,cAAcC,UAAUC,IAAI,gBAAgB,EACjDP,gBAAgBQ,KAAKL,CAAI,EAEjC,CAAC,CACL,EAIMM,YAAc,IAChBC,EAAEJ,UAAUK,OAAO,iBAAkB,gBAAiB,eAAe,CACzE,EAIMC,gBAAkB,KACpBnB,OAAOS,QAAQ,IACXW,EAAMC,QAAU,KACRD,EAAME,SAASC,cACfP,YAAYI,EAAMR,aAAa,EAC/BQ,EAAMR,cAAcC,UAAUC,IAAI,eAAe,GAC1B,KAAhBM,EAAMI,OAAiBJ,EAAME,SAASC,cAI7CP,YAAYI,EAAMR,aAAa,EAC/BJ,gBAAgB,IAJhBQ,YAAYI,EAAMR,aAAa,EAC/BQ,EAAMR,cAAcC,UAAUC,IAAI,eAAe,EAKzD,CACJ,CAAC,CACL,EAIMW,mBAAqB,KACvB,IAAKL,SAASpB,OACV,GAAIoB,MAAME,SAASC,aACf,MAAO,CAAA,EAIf,IAAKH,SAASb,gBACV,GAAoB,KAAhBa,MAAMI,MAEN,OADAE,QAAQC,IAAI,KAAK,EACV,CAAA,EAIf,MAAO,CAAA,CACX,EAIMC,UAAY,IACdjC,EAAKkC,MAAM,EAEX7B,OAAOS,QAAQ,IACXO,YAAYI,EAAMR,aAAa,CACnC,CAAC,EACDJ,gBAAgB,CACpB,EAIAA,gBAAgB,EAChBW,gBAAgB,EAChBO,QAAQC,IAAIpB,eAAe,EAI3BL,YAAY4B,iBAAiB,QAAS,KAClCF,UAAUjC,IAAI,CAClB,CAAC,EAIDM,aAAa6B,iBAAiB,QAAS,IACnCC,EAAIC,eAAe,GAEfP,mBAAmB,GACnBG,UAAUjC,IAAI,EAEdQ,cAGAC,cAHaS,UAAUC,IAAI,eAAe,EAC1ClB,SAASqC,KAAKC,MAAMC,SAAW,QAKvC,CAAC,EAID9B,iBAAiBI,QAAQ,IACrB2B,EAAON,iBAAiB,QAAS,KACjC3B,aAAaU,UAAUK,OAAO,eAAe,EAC7Cd,aAAaS,UAAUK,OAAO,eAAe,EAC7CtB,SAASqC,KAAKC,MAAMC,SAAW,SAC/B,CAAC,CACL,CAAC"}